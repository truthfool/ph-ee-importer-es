{"attributes":{"fieldAttrs":"{\"value.bpmnProcessId\":{\"count\":4},\"value.processDefinitionKey\":{\"count\":4},\"value.processDefinitionVersion\":{\"count\":3},\"value.processInstanceKey\":{\"count\":3},\"value.elementId\":{\"count\":2},\"value.retries\":{\"count\":2},\"value.type\":{\"count\":2},\"intent\":{\"count\":1},\"timestamp\":{\"count\":1}}","fields":"[]","runtimeFieldMap":"{}","timeFieldName":"timestamp","title":"zeebe-*"},"coreMigrationVersion":"7.13.2","id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","migrationVersion":{"index-pattern":"7.11.0"},"references":[],"type":"index-pattern","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODIxLDEzXQ=="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"title":"ProcessInstanceCount","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"ProcessInstanceCount\",\"type\":\"table\",\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"cardinality\",\"params\":{\"field\":\"value.processInstanceKey\",\"customLabel\":\"processInstanceCount\"},\"schema\":\"metric\"},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.bpmnProcessId\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":10,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"processDefinition\"},\"schema\":\"bucket\"}],\"params\":{\"perPage\":10,\"showPartialRows\":false,\"showMetricsAtAllLevels\":false,\"showTotal\":false,\"showToolbar\":false,\"totalFunc\":\"sum\",\"percentageCol\":\"\"}}"},"coreMigrationVersion":"7.13.2","id":"f21cb760-26bf-11ec-95b3-cb627b5ccd4b","migrationVersion":{"visualization":"7.13.1"},"references":[{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"}],"type":"visualization","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODIyLDEzXQ=="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"title":"ProcessInstanceKeys","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"ProcessInstanceKeys\",\"type\":\"table\",\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"params\":{},\"schema\":\"metric\"},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.bpmnProcessId\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":1005,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"ProcessDef\"},\"schema\":\"bucket\"},{\"id\":\"3\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.processInstanceKey\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":5,\"otherBucket\":true,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"ProcessInstanceKey\"},\"schema\":\"bucket\"}],\"params\":{\"perPage\":10,\"showPartialRows\":false,\"showMetricsAtAllLevels\":false,\"showTotal\":false,\"showToolbar\":false,\"totalFunc\":\"sum\",\"percentageCol\":\"\"}}"},"coreMigrationVersion":"7.13.2","id":"df1144f0-26c0-11ec-95b3-cb627b5ccd4b","migrationVersion":{"visualization":"7.13.1"},"references":[{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"}],"type":"visualization","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODIzLDEzXQ=="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"title":"Process Variables","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Process Variables\",\"type\":\"table\",\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"params\":{},\"schema\":\"metric\"},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.name\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":100,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"variableName\"},\"schema\":\"bucket\"},{\"id\":\"3\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.value\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":100,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"variableValue\"},\"schema\":\"bucket\"}],\"params\":{\"perPage\":20,\"showPartialRows\":false,\"showMetricsAtAllLevels\":false,\"showTotal\":false,\"showToolbar\":false,\"totalFunc\":\"sum\",\"percentageCol\":\"\"}}"},"coreMigrationVersion":"7.13.2","id":"8cf5f410-26c3-11ec-95b3-cb627b5ccd4b","migrationVersion":{"visualization":"7.13.1"},"references":[{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"}],"type":"visualization","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODI0LDEzXQ=="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"Variable Input","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Variable Input\",\"type\":\"input_control_vis\",\"aggs\":[],\"params\":{\"controls\":[{\"id\":\"1633538407315\",\"fieldName\":\"value.name\",\"parent\":\"\",\"label\":\"VariableName\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_0_index_pattern\"}],\"updateFiltersOnChange\":false,\"useTimeFilter\":false,\"pinFilters\":false}}"},"coreMigrationVersion":"7.13.2","id":"2b5132f0-26c4-11ec-95b3-cb627b5ccd4b","migrationVersion":{"visualization":"7.13.1"},"references":[{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"control_0_index_pattern","type":"index-pattern"}],"type":"visualization","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODI1LDEzXQ=="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[],\"indexRefName\":\"kibanaSavedObjectMeta.searchSourceJSON.index\"}"},"title":"Task/State ","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Task/State \",\"type\":\"table\",\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"params\":{},\"schema\":\"metric\"},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.type\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":20,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"Task/State Name\"},\"schema\":\"bucket\"}],\"params\":{\"perPage\":10,\"showPartialRows\":false,\"showMetricsAtAllLevels\":false,\"showTotal\":false,\"showToolbar\":false,\"totalFunc\":\"sum\",\"percentageCol\":\"\"}}"},"coreMigrationVersion":"7.13.2","id":"cc282ac0-26c5-11ec-95b3-cb627b5ccd4b","migrationVersion":{"visualization":"7.13.1"},"references":[{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"}],"type":"visualization","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODI2LDEzXQ=="}
{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"lucene\",\"query\":\"\"},\"filter\":[]}"},"title":"Vega Visualisation 3: Pie chart for transactions above filter","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"Vega Visualisation 3: Pie chart for transactions above filter\",\"type\":\"vega\",\"aggs\":[],\"params\":{\"spec\":\"{\\n  $schema: https://vega.github.io/schema/vega-lite/v5.json\\n  title: Event counts from all indexes\\n  data: {\\n    url: {\\n      index: _all\\n      body: {\\n        aggs: {\\n          categories: {\\n            terms: {\\n              field: value.processInstanceKey\\n            }\\n            aggs: {\\n              duration: {\\n                scripted_metric: {\\n                  init_script: state.responses = ['start':0,'stop':0]\\n                  map_script: def intent = doc['intent'].value; def time = doc['timestamp'].value.getMillis(); state.responses.start = time; if (intent.contains('COMPLETED') && time > state.responses['stop']) { state.responses.stop = time;} else if(intent.contains('CREATED') && time < state.responses['start'] ) {state.responses.start = time;}\\n                  combine_script: state.responses\\n                  reduce_script: def diff = null;for (responses in states) {diff = responses['stop'] - responses['start'];}return diff;\\n                }\\n              }\\n            }\\n          }\\n        }\\n        size: 0\\n        query: {\\n          bool: {\\n            must: [\\n            ]\\n            filter: [\\n              {\\n                match_all: {\\n                }\\n              }\\n              {\\n                match_phrase: {\\n                  value.bpmnProcessId: mpesa-flow-v3\\n                }\\n              }\\n            ]\\n            should: [\\n            ]\\n            must_not: [\\n            ]\\n          }\\n        }\\n      }\\n    }\\n    format: {\\n      property: aggregations.categories.buckets\\n    }\\n  }\\n  transform: [\\n    {\\n      calculate: \\\"datum['duration.value'] > 120000 ? 'above 2 min' : 'below 2 min' \\\"\\n      as: diff\\n    }\\n  ]\\n  mark: arc\\n  encoding: {\\n    theta: {\\n      field: duration.value\\n      aggregate: count\\n      type: quantitative\\n    }\\n    color: {\\n      field: diff\\n      type: nominal\\n      axis: {\\n        title: Process Instance\\n      }\\n    }\\n  }\\n}\"}}"},"coreMigrationVersion":"7.13.2","id":"04748e40-7771-11ec-80b6-cdd557ff9b70","migrationVersion":{"visualization":"7.13.1"},"references":[],"type":"visualization","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODI3LDEzXQ=="}
{"attributes":{"description":"","hits":0,"kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}"},"optionsJSON":"{\"hidePanelTitles\":false,\"useMargins\":true}","panelsJSON":"[{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":0,\"w\":18,\"h\":7,\"i\":\"6fc4224e-00ad-4a0b-bc30-cdd7c8c26e68\"},\"panelIndex\":\"6fc4224e-00ad-4a0b-bc30-cdd7c8c26e68\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"ProcessDefControl\",\"description\":\"\",\"type\":\"input_control_vis\",\"params\":{\"controls\":[{\"id\":\"1633536719626\",\"fieldName\":\"value.bpmnProcessId\",\"parent\":\"\",\"label\":\"ProcessDef\",\"type\":\"list\",\"options\":{\"type\":\"terms\",\"multiselect\":true,\"dynamicOptions\":true,\"size\":5,\"order\":\"desc\"},\"indexPatternRefName\":\"control_6fc4224e-00ad-4a0b-bc30-cdd7c8c26e68_0_index_pattern\"}],\"updateFiltersOnChange\":false,\"useTimeFilter\":false,\"pinFilters\":false},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"enhancements\":{}}},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":18,\"y\":0,\"w\":29,\"h\":7,\"i\":\"2adee62e-ff39-4b27-899d-6acc933194f7\"},\"panelIndex\":\"2adee62e-ff39-4b27-899d-6acc933194f7\",\"embeddableConfig\":{\"vis\":{\"params\":{\"colWidth\":[{\"colIndex\":0,\"width\":364}]}},\"enhancements\":{}},\"panelRefName\":\"panel_2adee62e-ff39-4b27-899d-6acc933194f7\"},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":7,\"w\":34,\"h\":12,\"i\":\"17035d4c-4ab4-4311-b7e9-6d60b8f532c3\"},\"panelIndex\":\"17035d4c-4ab4-4311-b7e9-6d60b8f532c3\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"ProcessInstanceKeys\",\"description\":\"\",\"type\":\"table\",\"params\":{\"perPage\":10,\"showPartialRows\":false,\"showMetricsAtAllLevels\":false,\"showTotal\":false,\"showToolbar\":false,\"totalFunc\":\"sum\",\"percentageCol\":\"\"},\"uiState\":{},\"data\":{\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"params\":{},\"schema\":\"metric\"},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.bpmnProcessId\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":1005,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"ProcessDef\"},\"schema\":\"bucket\"},{\"id\":\"3\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.processInstanceKey\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":5,\"otherBucket\":true,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"ProcessInstanceKey\"},\"schema\":\"bucket\"}],\"searchSource\":{\"index\":\"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b\",\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"enhancements\":{}},\"panelRefName\":\"panel_17035d4c-4ab4-4311-b7e9-6d60b8f532c3\"},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":19,\"w\":46,\"h\":12,\"i\":\"1a06ddb5-0b36-40e8-96be-7640d6d954b3\"},\"panelIndex\":\"1a06ddb5-0b36-40e8-96be-7640d6d954b3\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"Process Variables\",\"description\":\"\",\"type\":\"table\",\"params\":{\"perPage\":20,\"showPartialRows\":false,\"showMetricsAtAllLevels\":false,\"showTotal\":false,\"showToolbar\":false,\"totalFunc\":\"sum\",\"percentageCol\":\"\"},\"uiState\":{},\"data\":{\"aggs\":[{\"id\":\"1\",\"enabled\":true,\"type\":\"count\",\"params\":{},\"schema\":\"metric\"},{\"id\":\"2\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.name\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":100,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"variableName\"},\"schema\":\"bucket\"},{\"id\":\"3\",\"enabled\":true,\"type\":\"terms\",\"params\":{\"field\":\"value.value\",\"orderBy\":\"1\",\"order\":\"desc\",\"size\":100,\"otherBucket\":false,\"otherBucketLabel\":\"Other\",\"missingBucket\":false,\"missingBucketLabel\":\"Missing\",\"customLabel\":\"variableValue\"},\"schema\":\"bucket\"}],\"searchSource\":{\"index\":\"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b\",\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}}},\"vis\":{\"params\":{\"colWidth\":[{\"colIndex\":1,\"width\":1046.3333333333333},{\"colIndex\":0,\"width\":182}]}},\"table\":null,\"enhancements\":{}},\"panelRefName\":\"panel_1a06ddb5-0b36-40e8-96be-7640d6d954b3\"},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":31,\"w\":19,\"h\":7,\"i\":\"162e25cc-3f99-48cd-ac26-c16f4c18bf6f\"},\"panelIndex\":\"162e25cc-3f99-48cd-ac26-c16f4c18bf6f\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_162e25cc-3f99-48cd-ac26-c16f4c18bf6f\"},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":19,\"y\":31,\"w\":28,\"h\":15,\"i\":\"38bca8ec-0692-433d-996b-1366b50ce5b2\"},\"panelIndex\":\"38bca8ec-0692-433d-996b-1366b50ce5b2\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_38bca8ec-0692-433d-996b-1366b50ce5b2\"},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":46,\"w\":24,\"h\":15,\"i\":\"8fc4fc44-91d6-496a-af8f-444214d80872\"},\"panelIndex\":\"8fc4fc44-91d6-496a-af8f-444214d80872\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"Vega Visualisation 1: Time taken for each task\",\"description\":\"\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega-lite/v5.json\\\",\\n  \\\"title\\\": \\\"Event counts from all indexes\\\",\\n  \\\"data\\\": {\\n    \\\"url\\\": {\\n      \\\"index\\\": \\\"_all\\\",\\n      \\\"body\\\": {\\n     \\\"aggs\\\": {\\n        categories: {\\n         terms: { field: \\\"value.elementId\\\" }\\n        \\\"aggs\\\": {\\n        \\\"duration\\\": {\\n          \\\"scripted_metric\\\": {\\n            \\\"init_script\\\": \\\"state.responses = ['start':0,'stop':0]\\\", \\n            \\\"map_script\\\": \\\"def intent = doc['intent'].value; if (intent.contains('COMPLETED')) {state.responses.stop += doc['timestamp'].value.getMillis();} else if(intent.contains('CREATED')) {state.responses.start += doc['timestamp'].value.getMillis();} else {state.responses.start += 0;state.responses.stop += 0;}\\\",\\n            \\\"combine_script\\\": \\\"state.responses\\\",\\n            \\\"reduce_script\\\": \\\"def diff = null;for (responses in states) {diff = responses['stop'] - responses['start'];}return diff;\\\"\\n          }\\n        }\\n      }\\n          \\n    }\\n  }\\n  \\\"size\\\": 0,\\n  \\\"query\\\": {\\n    \\\"bool\\\": {\\n      \\\"must\\\": [],\\n      \\\"filter\\\": [\\n        {\\n          \\\"match_all\\\": {}\\n        },\\n        {\\n          \\\"match_phrase\\\": {\\n            \\\"value.bpmnProcessId\\\": \\\"mpesa-flow-v3\\\"\\n          }\\n        },\\n        {\\n          \\\"match_phrase\\\": {\\n            \\\"value.processInstanceKey\\\": 2251799831883666\\n          }\\n        },\\n      ],\\n      \\\"should\\\": [],\\n      \\\"must_not\\\": [\\n      {\\n         \\\"match_phrase\\\": {\\n            \\\"value.elementId\\\": \\\"Gateway_0y10qkw\\\"\\n          }\\n        }{\\n          \\\"match_phrase\\\": {\\n            \\\"value.elementId\\\": \\\"Gateway_071nepp\\\"\\n          }\\n      }{\\n          \\\"match_phrase\\\": {\\n            \\\"value.elementId\\\": \\\"Gateway_1hsu2ep\\\"\\n          }\\n      }\\n      {\\n          \\\"match_phrase\\\": {\\n            \\\"value.elementId\\\": \\\"Event_1b36xu9\\\"\\n          }\\n      }\\n      {\\n          \\\"match_phrase\\\": {\\n            \\\"value.elementId\\\": \\\"StartEvent_1\\\"\\n          }\\n      }\\n       {\\n          \\\"match_phrase\\\": {\\n            \\\"value.elementId\\\": \\\"StartEvent_1\\\"\\n          }\\n      }\\n       {\\n          \\\"match_phrase\\\": {\\n            \\\"value.elementId\\\": \\\"Flow_03ncatg\\\"\\n          }\\n      }\\n      ]\\n    }\\n  }\\n  }\\n    },\\n     format: {property: \\\"aggregations.categories.buckets\\\" }\\n  },\\n  mark: bar\\n\\n  encoding: {\\n    x: {\\\"field\\\": \\\"duration.value\\\", \\n          \\\"type\\\": \\\"temporal\\\",  \\n          \\\"timeUnit\\\": \\\"seconds\\\",\\n          \\\"axis\\\": {title: \\\"Time taken in miliseconds \\\" }\\n      \\n      }\\n    y: {\\n      field: key\\n      type: nominal\\n      axis: { title: \\\"Tasks\\\" }\\n    }\\n    color: {\\n      field: key\\n      type: nominal\\n    }\\n  }\\n  \\\"layer\\\": [\\n    {\\n      \\\"mark\\\": \\\"rect\\\",\\n      \\\"encoding\\\": {\\n        \\\"color\\\": {\\n          \\\"field\\\": \\\"duration.value\\\",\\n          \\\"type\\\": \\\"temporal\\\",\\n           \\\"timeUnit\\\": \\\"milliseconds\\\",\\n          \\\"title\\\": \\\"Time elapsed\\\",\\n          \\\"legend\\\": {\\\"direction\\\": \\\"horizontal\\\", \\\"gradientLength\\\": 120}\\n        }\\n      }\\n    }]\\n}\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}}},\"enhancements\":{}}},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":24,\"y\":46,\"w\":24,\"h\":15,\"i\":\"039d9f15-1fef-4e21-ab1d-cee335f2b337\"},\"panelIndex\":\"039d9f15-1fef-4e21-ab1d-cee335f2b337\",\"embeddableConfig\":{\"savedVis\":{\"title\":\"Vega Visualisation 2: All process with elapsed time per task\",\"description\":\"\",\"type\":\"vega\",\"params\":{\"spec\":\"{\\n  \\\"$schema\\\": \\\"https://vega.github.io/schema/vega-lite/v5.json\\\",\\n  \\\"title\\\": \\\"Event counts from all indexes\\\",\\n  \\\"data\\\": {\\n    \\\"url\\\": {\\n      \\\"index\\\": \\\"_all\\\",\\n      \\\"body\\\": {\\n        \\\"aggs\\\": {\\n          \\\"categories\\\": {\\n            \\\"terms\\\": {\\\"field\\\": \\\"value.processInstanceKey\\\"},\\n            \\\"aggs\\\": {\\n              \\\"duration\\\": {\\n           scripted_metric: {\\n                  init_script: state.responses = ['start':0,'stop':0]\\n                  map_script: def intent = doc['intent'].value; def time = doc['timestamp'].value.getMillis(); state.responses.start = time; if (intent.contains('COMPLETED') && time > state.responses['stop']) { state.responses.stop = time;} else if(intent.contains('CREATED') && time < state.responses['start'] ) {state.responses.start = time;}\\n                  combine_script: state.responses\\n                  reduce_script: def diff = null;for (responses in states) {diff = responses['stop'] - responses['start'];}return diff;\\n                }\\n              }\\n            }\\n          }\\n        },\\n        \\\"size\\\": 0,\\n        \\\"query\\\": {\\n          \\\"bool\\\": {\\n            \\\"must\\\": [],\\n            \\\"filter\\\": [\\n              {\\\"match_all\\\": {}},\\n              {\\\"match_phrase\\\": {\\\"value.bpmnProcessId\\\": \\\"mpesa-flow-v3\\\"}}\\n            ],\\n            \\\"should\\\": [],\\n            \\\"must_not\\\": []\\n          }\\n        }\\n      }\\n    },\\n    \\\"format\\\": {\\\"property\\\": \\\"aggregations.categories.buckets\\\"}\\n  },\\n  \\\"encoding\\\": {\\n    \\\"x\\\": {\\n      \\\"field\\\": \\\"duration.value\\\",\\n      \\\"type\\\": \\\"temporal\\\",\\n      \\\"timeUnit\\\": \\\"seconds\\\",\\n      \\\"axis\\\": {\\\"title\\\": \\\"Time taken in miliseconds \\\"}\\n    },\\n    \\\"y\\\": {\\n      \\\"field\\\": \\\"key\\\",\\n      \\\"type\\\": \\\"nominal\\\",\\n      \\\"axis\\\": {\\\"title\\\": \\\"Process Instance\\\"}\\n    },\\n    \\\"color\\\": {\\\"field\\\": \\\"key\\\", \\\"type\\\": \\\"nominal\\\"}\\n  },\\n  \\\"layer\\\": [\\n    {\\n      \\\"mark\\\": \\\"rect\\\",\\n      \\\"encoding\\\": {\\n        \\\"color\\\": {\\n          \\\"field\\\": \\\"duration.value\\\",\\n          \\\"type\\\": \\\"temporal\\\",\\n          \\\"timeUnit\\\": \\\"milliseconds\\\",\\n          \\\"title\\\": \\\"Time elapsed\\\",\\n          \\\"legend\\\": {\\\"direction\\\": \\\"horizontal\\\", \\\"gradientLength\\\": 120}\\n        }\\n      }\\n    },\\n    {\\n      \\\"mark\\\": \\\"text\\\",\\n      \\\"encoding\\\": {\\n        \\\"text\\\": {\\\"field\\\": \\\"duration.value\\\",   \\\"type\\\": \\\"temporal\\\",\\n          \\\"timeUnit\\\": \\\"seconds\\\"},\\n        \\\"color\\\": {\\n          \\\"condition\\\": {\\n            \\\"test\\\": \\\"datum['duration.value'] > 120000\\\",\\n            \\\"value\\\": \\\"red\\\"\\n          },\\n          \\\"value\\\": \\\"black\\\"\\n        }\\n      }\\n    }\\n  ],\\n  \\\"config\\\": {\\\"axis\\\": {\\\"grid\\\": true, \\\"tickBand\\\": \\\"extent\\\"}}\\n}\"},\"uiState\":{},\"data\":{\"aggs\":[],\"searchSource\":{\"query\":{\"language\":\"kuery\",\"query\":\"\"},\"filter\":[]}}},\"enhancements\":{}}},{\"version\":\"7.13.2\",\"type\":\"visualization\",\"gridData\":{\"x\":0,\"y\":61,\"w\":24,\"h\":15,\"i\":\"5eed1959-b4a0-4cb9-80d8-16fb83199078\"},\"panelIndex\":\"5eed1959-b4a0-4cb9-80d8-16fb83199078\",\"embeddableConfig\":{\"enhancements\":{}},\"panelRefName\":\"panel_5eed1959-b4a0-4cb9-80d8-16fb83199078\"}]","refreshInterval":{"pause":true,"value":0},"timeFrom":"now-1w","timeRestore":true,"timeTo":"now","title":"PHEE","version":1},"coreMigrationVersion":"7.13.2","id":"8bcc01c0-26bd-11ec-95b3-cb627b5ccd4b","migrationVersion":{"dashboard":"7.13.1"},"references":[{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"6fc4224e-00ad-4a0b-bc30-cdd7c8c26e68:control_6fc4224e-00ad-4a0b-bc30-cdd7c8c26e68_0_index_pattern","type":"index-pattern"},{"id":"f21cb760-26bf-11ec-95b3-cb627b5ccd4b","name":"2adee62e-ff39-4b27-899d-6acc933194f7:panel_2adee62e-ff39-4b27-899d-6acc933194f7","type":"visualization"},{"id":"df1144f0-26c0-11ec-95b3-cb627b5ccd4b","name":"17035d4c-4ab4-4311-b7e9-6d60b8f532c3:panel_17035d4c-4ab4-4311-b7e9-6d60b8f532c3","type":"visualization"},{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"17035d4c-4ab4-4311-b7e9-6d60b8f532c3:kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"},{"id":"8cf5f410-26c3-11ec-95b3-cb627b5ccd4b","name":"1a06ddb5-0b36-40e8-96be-7640d6d954b3:panel_1a06ddb5-0b36-40e8-96be-7640d6d954b3","type":"visualization"},{"id":"4e01ca10-26bc-11ec-95b3-cb627b5ccd4b","name":"1a06ddb5-0b36-40e8-96be-7640d6d954b3:kibanaSavedObjectMeta.searchSourceJSON.index","type":"index-pattern"},{"id":"2b5132f0-26c4-11ec-95b3-cb627b5ccd4b","name":"162e25cc-3f99-48cd-ac26-c16f4c18bf6f:panel_162e25cc-3f99-48cd-ac26-c16f4c18bf6f","type":"visualization"},{"id":"cc282ac0-26c5-11ec-95b3-cb627b5ccd4b","name":"38bca8ec-0692-433d-996b-1366b50ce5b2:panel_38bca8ec-0692-433d-996b-1366b50ce5b2","type":"visualization"},{"id":"04748e40-7771-11ec-80b6-cdd557ff9b70","name":"5eed1959-b4a0-4cb9-80d8-16fb83199078:panel_5eed1959-b4a0-4cb9-80d8-16fb83199078","type":"visualization"}],"type":"dashboard","updated_at":"2022-01-17T09:27:43.036Z","version":"WzEwODI4LDEzXQ=="}
{"exportedCount":8,"missingRefCount":0,"missingReferences":[]}